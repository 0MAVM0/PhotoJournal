{% extends 'web/base.html' %}

{% block content %}
<div class="bg-white rounded-lg shadow p-6">
    <h2 class="text-xl font-semibold mb-4">Messages</h2>
    <div class="space-y-4">
        {% for chat in chats %}
            <a href="{% url 'web:chat_detail' chat.id %}" class="flex items-center p-2 hover:bg-gray-100 rounded">
                <img src="{{ chat.participants|first.avatar.url }}" alt="User" class="w-10 h-10 rounded-full mr-2">
                <div>
                    <p class="font-semibold">{{ chat.participants|first.username }}</p>
                    <p class="text-gray-600 text-sm">{{ chat.last_message.content|truncatechars:30 }}</p>
                </div>
            </a>
        {% endfor %}
    </div>
</div>
{% endblock %}
